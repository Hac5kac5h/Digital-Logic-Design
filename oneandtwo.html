<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oneandtwocompliment</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" 
integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <style>
        .container {
            position: relative;
            overflow-x: hidden;
        }

        @media screen and (max-width:900px) {
            .container {
            position: relative;
            overflow-x: hidden;
        }
            #a{
                font-size: medium;
                position: relative;
                overflow-x: hidden;
            }
            
        }
    </style>

</head>
<body style="background-color:powderblue">
    <div class="container">
        <h1 style="color:blue">One's And Two's Compliment of a Number</h1><br>
        <div class="Explaination">
            <h4>
               <p> To get 1's complement of a binary number, simply invert the given number. </p>
                <p>To get 2's complement of a binary number, simply invert the given number and add 1 to the least significant bit (LSB) of given result.</p>
            </h4>
        </div><br><br>
        <label for="input" class="form-label" style="margin-left:5px ; font-size: x-large;">Enter Number:</label>
        <input class="form-control" id="a" style="border-radius:5px ; font-size: large; width:max-content; margin-left: 155px; margin-top: -42px; " onchange="fun()">
        <br>

        <h4 id="1c" style="color:blue; display:none">1's Compliment:  </h4>
        <h4 id="b" style="margin-left:180px; margin-top: -33px;"></h4><br><br>
        <h4 id="2c" style="color:blue; display:none">2's Compliment:  </h4>
        <h4 id="c" style="margin-left:180px; margin-top: -33px;"></h4><br>
        <button id="x2" type="button" class="btn btn-primary" onclick="disp()">Detailed Answer</button><br> <br>
        <div class="detailAnswer" id="resultId" style="font-size:x-large;margin-left: 10px;">
        
        </div>
    </div>
        <script text="type/javascript">
            function fun(){
                document.getElementById("resultId").innerHTML='';
                document.getElementById("b").innerHTML ='';
                document.getElementById("c").innerHTML ='';
                x=document.getElementById("a").value;
                var i=0;
                for(i;i<x.length;i+=1)
                {
                    if(x[i]=='0' || x[i]=='1')
                        continue;
                    else
                    {
                        var t = document.getElementById("resultId");
                        t.innerHTML = '    Invalid input....';
                        t.style.display = 'block';
                        document.getElementById("b").setAttribute("disabled",true);
                        document.getElementById("c").setAttribute("disabled",true);
                        document.getElementById("x2").setAttribute("disabled",true);
                        return;
                    }
                }
                document.getElementById("b").removeAttribute("disabled");
                document.getElementById("c").removeAttribute("disabled");
                document.getElementById("x2").removeAttribute("disabled");
                
                document.getElementById("b").innerHTML += ones(x);
                
                document.getElementById("c").innerHTML += add(ones(x),'1').padStart(x.length,'0');
                document.getElementById("1c").style.display="block";
                document.getElementById("2c").style.display="block";
            }
            function ones(y) {
                s = '';
                for(i=0; i<y.length; i++) {
                    s += (y[i] == '1') ? '0' :'1';
                }
                return s;
            }
            function add(p,q){
                let a= parseInt(p,2);
                let b= parseInt(q,2);
                c = a+b;
                return c.toString(2);
            }
            function disp(){
                const p=document.getElementById("a").value;
                let q=''.padStart(p.length,'1');
                t="1"
                res=''
                // let e=parseInt(q,2);
                // let f=parseInt(p,2);
                n=`Given input is :${p}<br>`
                res+=` 1's Compliment is: ${q} - ${p}=${ones(p)}<br>`
                res+=` 2's Compliment is: ${ones(p)} + ${t.padStart(p.length,'0')} =${add(ones(p),'1').padStart(p.length,'0')}<br>`
            document.getElementById("resultId").innerHTML+=n
            document.getElementById("resultId").innerHTML+=res
            document.getElementById("a").value=""
            
            
        }
            
        </script>
</body>
</html>
